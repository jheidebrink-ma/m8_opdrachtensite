<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Les 4 - M7PROG - Laravel</title> <link rel="shortcut icon" href="/m7prog_opdrachtensite/favicon.ico" type="image/x-icon"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&family=Fira+Sans:wght@400;500&display=swap" rel="stylesheet"> <link rel="stylesheet" href="/m7prog_opdrachtensite/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=false"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'false'); </script> <script type="text/javascript" src="/m7prog_opdrachtensite/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/m7prog_opdrachtensite/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/m7prog_opdrachtensite/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/project_requirements.html" class="nav-list-link">Algemene en functionele eisen</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-1/" class="nav-list-link">Les 1</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-2/index" class="nav-list-link">Les 2</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-3/index" class="nav-list-link">Les 3</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-4/index" class="nav-list-link">Les 4</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-5/index" class="nav-list-link">Les 5</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-6/index" class="nav-list-link">Les 6</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-7/index" class="nav-list-link">Les 7</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-8/index" class="nav-list-link">Les 8</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-9/index" class="nav-list-link">Les 9</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-10/index" class="nav-list-link">Les 10</a></li></ul> </nav> <footer class="site-footer"> This is a learning site for awesome Webdevelopers.<br> <!--<small>This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</small>--> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header pl-5 pt-2"> <h1>M8PROG - WordPress custom theme</h1> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h2 class="text-green-100 fs-6" id="een-seeder-maken">Een seeder maken</h2> <p>Op dit moment heb je een tabel gemaakt met bijbehorend model.<br /> Nu is het tijd om ook wat voorbeeld data in de tabel te plaatsen.<br /> Dat doe je door gebruik te maken van Seeders.</p> <hr /> <h2 id="1--seeder-aanmaken">1- Seeder aanmaken</h2> <p>Eerst gaan we een nieuwe seeder maken om straks data toe te kunnen voegen:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php artisan make:seeder ProjectSeeder
</code></pre></div></div> <p>Er is nu een nieuwe seeder aangemaakt waarmee een project toegevoegd kan worden.<br /> Open maar het bestand:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/database/seeders/ProjectSeeder.php
</code></pre></div></div> <p>Hier vind je de <code class="language-plaintext highlighter-rouge">run</code> functie.<br /> Deze voert het toevoegen uit.<br /> Je kunt nu Laravel Eloquent gebruiken om je data toe te voegen.<br /> Dit lijkt erg op zoals wij straks met models omgaan.<br /> Om gebruik te maken van deze seeder moet je eerst de DB functionaliteit importeren. Daarvoor moet je deze regel toevoegen bovenin het php document ( het <code class="language-plaintext highlighter-rouge">use</code> gedeelte ):<br /> <code class="language-plaintext highlighter-rouge">use Illuminate\Support\Facades\DB;</code></p> <p>Het is ook mogelijk om gebruik te maken van <strong>Model Factories</strong> hierbij kun je een aantal items met random data zoals fake tekst toevoegen.<br /> Zorg ervoor dat in het <code class="language-plaintext highlighter-rouge">use</code> gedeelte bovenaan de code ook de faker geladen wordt:<br /> <code class="language-plaintext highlighter-rouge">use Faker\Factory as Faker;</code><br /> Bovenaan in de functie geef je aan dat je een faker wilt gebruiken om fake data toe te voegen. Dit hoeft niet, je kunt ook zelf de data verzinnen zoals in het voorbeeld met de hand.</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">$faker</span> <span class="o">=</span> Faker::create<span class="o">()</span><span class="p">;</span>
</code></pre></div></div> <p><strong>Elementen</strong><br /> Velden die jij zelf hebt bedacht maar hier niet staan zul je moeten toevoegen. <br /> Vul de verschillende elementen van het model via faker:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    DB::table<span class="o">(</span><span class="s1">'projects'</span><span class="o">)</span>-&gt;insert<span class="o">([</span>
        <span class="s1">'title'</span>       <span class="o">=&gt;</span> <span class="nv">$faker</span>-&gt;colorName<span class="o">()</span>,
        <span class="s1">'intro'</span>       <span class="o">=&gt;</span> <span class="nv">$faker</span>-&gt;text<span class="o">(</span>50<span class="o">)</span>,
        <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="nv">$faker</span>-&gt;text<span class="o">()</span>,
        <span class="s1">'active'</span>        <span class="o">=&gt;</span> <span class="nb">true</span>,
    <span class="o">])</span><span class="p">;</span>
</code></pre></div></div> <p>Of met de hand:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    DB::table<span class="o">(</span><span class="s1">'projects'</span><span class="o">)</span>-&gt;insert<span class="o">([</span>
        <span class="s1">'title'</span>         <span class="o">=&gt;</span> <span class="s1">'Mijn project titel'</span>,
        <span class="s1">'intro'</span>         <span class="o">=&gt;</span> <span class="s1">'Anim non lorem sit est.'</span>,
        <span class="s1">'description'</span>   <span class="o">=&gt;</span> <span class="s1">'Enim labore eu, sed. Sed esse incididunt aute velit. Incididunt, aute velit duis amet sint. Duis amet sint pariatur esse anim officia mollit. Sint pariatur esse anim. Esse anim officia mollit laboris aliqua, et esse.'</span>,
        <span class="s1">'active'</span>        <span class="o">=&gt;</span> <span class="nb">true</span>,
    <span class="o">])</span><span class="p">;</span>
</code></pre></div></div> <hr /> <h2 id="2--seeder-uitvoeren">2- Seeder uitvoeren</h2> <p>Voor het toevoegen van de tabel en instellingen hoeven wij geen mysql te schrijven, maar kan ik Laravel de opdracht geven om dit uit te voeren. Gebruik hiervoor de seed functionaliteit van Laravel:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Wanneer je gebruik maakt van de originele docker setup
php artisan db:seed <span class="nt">--class</span><span class="o">=</span>ProjectSeeder
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// wanneer je gebruik maakt van sail
sail artisan db:seed <span class="nt">--class</span><span class="o">=</span>ProjectSeeder
</code></pre></div></div> <h2 id="3--controle">3- Controle</h2> <p>Open nu de database interface ( via een app of phpmyadmin ) en controleer of de data is toegevoegd. <br /> Waarschijnlijk heb je nog geen verbinding met deze database server, hiervoor kunt je een IDE gebruiken of een PhpMyAdmin server implementeren, daarvoor moet je dan deze stappen volgen: <br /> 1- Plak de volgende code in <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> onder de <code class="language-plaintext highlighter-rouge">selenium</code> container.</p> <div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    phpmyadmin:
        image: phpmyadmin
        environment:
            PMA_HOST: 'mysql'
            PMA_USER: '${DB_USERNAME}'
            PMA_PASSWORD: '${DB_PASSWORD}'
        ports:
            - "1088:80"
        networks:
            - sail
</code></pre></div></div> <p>Let goed op de uitlijning, deze moet overeenkomen met de andere blokken.<br /> 2- Build de omgeving weer met het commando:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./vendor/bin/sail up <span class="nt">-d</span>
</code></pre></div></div> <p>3- Open de nieuwe docker container in de browser:<br /> <a href="http://localhost:1088">http://localhost:1088</a></p> <hr /> <h3 id="optionele-video">Optionele video:</h3> <h3 class="fs-4 text-blue-100" id="bekijk-de-video">Bekijk de video</h3> <div class="video"><div class="resp-container"><iframe class="resp-iframe" src="https://www.youtube.com/embed/WGYmEdzZgtM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div> <hr /> <h2 class="text-green-100 fs-5" id="commit-en-push">Commit en push</h2> <p>Commit en push ALTIJD na het maken van een opdracht of aan het einde van de les. Zo is je voortgang zichtbaar en ontvang je feedback en/of hulp op de laatste versie van je code als dat nodig is.</p> <footer> </footer> </div> </div> </div> </body> </html>
