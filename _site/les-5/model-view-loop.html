<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Les 4 - M7PROG - Laravel</title> <link rel="shortcut icon" href="/m7prog_opdrachtensite/favicon.ico" type="image/x-icon"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&family=Fira+Sans:wght@400;500&display=swap" rel="stylesheet"> <link rel="stylesheet" href="/m7prog_opdrachtensite/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=false"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'false'); </script> <script type="text/javascript" src="/m7prog_opdrachtensite/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/m7prog_opdrachtensite/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/m7prog_opdrachtensite/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/project_requirements.html" class="nav-list-link">Algemene en functionele eisen</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-1/" class="nav-list-link">Les 1</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-2/index" class="nav-list-link">Les 2</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-3/index" class="nav-list-link">Les 3</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-4/index" class="nav-list-link">Les 4</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-5/index" class="nav-list-link">Les 5</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-6/index" class="nav-list-link">Les 6</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-7/index" class="nav-list-link">Les 7</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-8/index" class="nav-list-link">Les 8</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-9/index" class="nav-list-link">Les 9</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-10/index" class="nav-list-link">Les 10</a></li></ul> </nav> <footer class="site-footer"> This is a learning site for awesome Webdevelopers.<br> <!--<small>This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</small>--> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header pl-5 pt-2"> <h1>M8PROG - WordPress custom theme</h1> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h2 class="text-green-100 fs-6" id="gegevens-ophalen-in-controller-en-weergeven-in-de-view">Gegevens ophalen in controller en weergeven in de view</h2> <p>Je kunt nu (na wat oefenen) alle CRUD operaties uitvoeren met de Eloquent model class.<br /> Het doel is om een lijst met projecten op te halen en aan een view door te geven.<br /> In de view kun je met de Blade <code class="language-plaintext highlighter-rouge">@foreach</code> directive de gegevens tonen met jouw eigen HTML en CSS.</p> <hr /> <h3 id="1--maak-een-functie-aan-in-je-projectcontroller">1- Maak een functie aan in je ProjectController</h3> <p>Maak in je ProjectController een index functie aan waar je straks alle projecten gaat ophalen.</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">function</span> <span class="n">index</span><span class="p">()</span> <span class="p">{</span>
        
    <span class="p">}</span>
</code></pre></div></div> <hr /> <h3 id="2--haal-alle-projecten-op">2- Haal alle projecten op</h3> <p>Binnen deze functie haal je vervolgens alle Projecten op door het model te laden en daarbij aan te geven wat jke wilt ophalen.</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">$projects</span> <span class="o">=</span> <span class="nc">Project</span><span class="o">::</span><span class="nf">all</span><span class="p">();</span>
</code></pre></div></div> <p>Of als je alleen de actieve projecten wilt ophalen, gesorteerd op title:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">$projects</span> <span class="o">=</span> <span class="nc">Project</span><span class="o">::</span><span class="nf">where</span><span class="p">(</span><span class="s1">'active'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
               <span class="o">-&gt;</span><span class="nf">orderBy</span><span class="p">(</span><span class="s1">'title'</span><span class="p">)</span>
               <span class="o">-&gt;</span><span class="nf">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
               <span class="o">-&gt;</span><span class="nf">get</span><span class="p">();</span>
</code></pre></div></div> <p>Geef vervolgens deze informatie door aan het view bestand <code class="language-plaintext highlighter-rouge">/resources/views/projects/index.blade.php</code></p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">return</span> <span class="nf">view</span><span class="p">(</span>
            <span class="s1">'projects.index'</span><span class="p">,</span>
            <span class="p">[</span>
                <span class="s1">'projects'</span> <span class="o">=&gt;</span> <span class="nv">$projects</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">);</span>
</code></pre></div></div> <hr /> <h3 id="3--maak-een-view-bestand">3- Maak een view bestand</h3> <p>Maak een nieuw views bestand aan:<br /> <code class="language-plaintext highlighter-rouge">/resources/views/projects/index.blade.php</code> Je kunt hierbinnen de als voorbeeld een oud bestand gebruiken.<br /> In het content gedeelte plaats je vervolgens de loop:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">@</span><span class="k">foreach</span><span class="p">(</span> <span class="nv">$projects</span> <span class="k">as</span> <span class="nv">$project</span> <span class="p">)</span>
        <span class="o">&lt;</span><span class="n">div</span>
            <span class="n">class</span><span class="o">=</span><span class="s2">"max-w-sm p-2 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">h5</span> <span class="n">class</span><span class="o">=</span><span class="s2">"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white text-center"</span><span class="o">&gt;</span>
                <span class="p">{{</span><span class="nv">$project</span><span class="o">-&gt;</span><span class="n">title</span><span class="p">}}</span>
            <span class="o">&lt;/</span><span class="n">h5</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">@</span><span class="k">endforeach</span> 
</code></pre></div></div> <hr /> <h3 id="4--maak-een-route-aan">4- Maak een route aan</h3> <p>De route die ik nu wil gebruiken is:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nc">Route</span><span class="o">::</span><span class="nf">get</span><span class="p">(</span><span class="s1">'/projects/index'</span><span class="p">,</span> <span class="p">[</span> <span class="nc">ProjectController</span><span class="o">::</span><span class="n">class</span><span class="p">,</span> <span class="s1">'index'</span> <span class="p">])</span><span class="o">-&gt;</span><span class="nf">name</span><span class="p">(</span><span class="s1">'project.index'</span><span class="p">);</span>
</code></pre></div></div> <hr /> <h3 id="5--test-de-route">5- Test de route</h3> <p>Bekijk deze route en geniet van het mooie overzicht dat je gemaakt hebt op dit endpoint. <code class="language-plaintext highlighter-rouge">/projects/index</code></p> <hr /> <h3 id="optionele-video">Optionele video:</h3> <p>In de video laat ik zien hoe je dit doet.</p> <h3 class="fs-4 text-blue-100" id="bekijk-de-video">Bekijk de video</h3> <div class="video"><div class="resp-container"><iframe class="resp-iframe" src="https://www.youtube.com/embed/tsZTDguVaBs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div> <hr /> <p class="text-blue-100 fs-4">Zorg dat je na deze opdracht een werkende lijst pagina hebt met gegevens uit de database. In de volgende les ga je een formulier maken om gegevens via de model class op te slaan.</p> <p class="text-blue-100 fs-4">Ook leer je hoe je forms veilig maakt met CSRF en hoe je gegevens makkelijk kunt valideren met Laravel. Ook ga je gebruiksvriendelijke foutmeldingen als de ingevulde gegevens niet geldig zijn.</p> <hr /> <h2 class="text-green-100 fs-5" id="commit-en-push">Commit en push</h2> <p>Commit en push ALTIJD na het maken van een opdracht of aan het einde van de les. Zo is je voortgang zichtbaar en ontvang je feedback en/of hulp op de laatste versie van je code als dat nodig is.</p> <hr /> <h3 class="text-green-100 fs-4" id="volgende-stap">Volgende stap:</h3> <p><a href="templates">Templates</a></p> <footer> </footer> </div> </div> </div> </body> </html>
