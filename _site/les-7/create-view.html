<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Les 7 - M7PROG - Laravel</title> <link rel="shortcut icon" href="/m7prog_opdrachtensite/favicon.ico" type="image/x-icon"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&family=Fira+Sans:wght@400;500&display=swap" rel="stylesheet"> <link rel="stylesheet" href="/m7prog_opdrachtensite/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=false"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'false'); </script> <script type="text/javascript" src="/m7prog_opdrachtensite/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/m7prog_opdrachtensite/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/m7prog_opdrachtensite/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/project_requirements.html" class="nav-list-link">Algemene en functionele eisen</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-1/" class="nav-list-link">Les 1</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-2/index" class="nav-list-link">Les 2</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-3/index" class="nav-list-link">Les 3</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-4/index" class="nav-list-link">Les 4</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-5/index" class="nav-list-link">Les 5</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-6/index" class="nav-list-link">Les 6</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-7/index" class="nav-list-link">Les 7</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-8/index" class="nav-list-link">Les 8</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-9/index" class="nav-list-link">Les 9</a></li><li class="nav-list-item"><a href="/m7prog_opdrachtensite/les-10/index" class="nav-list-link">Les 10</a></li></ul> </nav> <footer class="site-footer"> This is a learning site for awesome Webdevelopers.<br> <!--<small>This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</small>--> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header pl-5 pt-2"> <h1>M8PROG - WordPress custom theme</h1> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h2 class="text-green-100 fs-6" id="formulier-maken-en-de-gegevens-opsturen">Formulier maken en de gegevens opsturen</h2> <p>Je gaat een formulier maken om nieuwe gegevens toe te voegen. Je zorgt ook dat het formulier veilig wordt opgestuurd en dat de gegevens aankomen in de juiste method in je controller.</p> <hr /> <h3 id="1--knop-maken-naar-de-create-route">1- Knop maken naar de create route</h3> <p>Zoek via het commando <code class="language-plaintext highlighter-rouge">php artisan route:list</code> op wat de naam van de route is voor het aanmaken ( create ) van een project. Mogelijk moet je dit commando uitvoeren in je docker terminal van de php of Laravel container. <br /> Kopieer die naam en maak in de <code class="language-plaintext highlighter-rouge">dashboard/projects/index.blade.php</code> een link naar deze route.</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{route('ROUTE-NAAR-CREATE')}}"</span> <span class="na">class=</span><span class="s">"bg-green hover:bg-green text-white font-bold py-2 px-4 rounded float-right"</span><span class="nt">&gt;</span>
    {{ __('New project') }}
<span class="nt">&lt;/a&gt;</span>

</code></pre></div></div> <hr /> <h3 id="2--view-aanmaken-op-basis-van-de-index">2- View aanmaken op basis van de index</h3> <p>Kopieer de <code class="language-plaintext highlighter-rouge">dashboard/projects/index.blade.php</code> view naar <code class="language-plaintext highlighter-rouge">dashboard/projects/create.blade.php</code> <br /> Hier komt het formulier in.<br /> Open deze nieuwe view en pas de <code class="language-plaintext highlighter-rouge">header 1</code><em>( titel )</em> aan zodat je weet dat dit de formulier pagina is.<br /> Je kunt de inhoud van de content verwijderen.</p> <hr /> <h3 id="3--view-implementeren-in-de-controller">3- View implementeren in de controller</h3> <p>Net zoals bij de index zorg je er nu voor dat de create functie in de controller een view terug geeft aan de browser.</p> <hr /> <h3 id="4--formulier-maken">4- Formulier maken</h3> <p>In Tailwind zit basis form functionaliteit, hiermee kunnen wij formulieren aanmaken in de views.<br /> Zie: <a href="https://tailwindui.com/components/application-ui/forms/form-layouts">Tailwind UI forms</a><br /> In je <code class="language-plaintext highlighter-rouge">tailwind.conf</code> in de root van je project moet je hiervoor aangeven dat je gebruik wil maken van de tailwind form plugin:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">plugins</span><span class="o">:</span> <span class="p">[</span><span class="n">forms</span><span class="p">],</span>
</code></pre></div></div> <p>Je kunt nu het voorbeeld formulier van Tailwind kopiëren of je maakt een nieuw HTML formulier aan.<br /> Denk hierbij aan de volgende elementen die aangepast moeten worden voor jouw project.<br /> Bijvoorbeeld:</p> <ul> <li>form action=”{{route(‘project.store’)}}” <em>( de route om het formulier op te slaan )</em></li> <li>form method=”post”</li> <li>input fields waarbij de name gelijk is aan de naam van je database veld</li> <li>submit button</li> </ul> <hr /> <h4 id="cross-site-request-forgeries">Cross-site request forgeries</h4> <p>Formulieren in Laravel zijn beveiligd met tegen Cross-site request forgeries, mensen die jouw formulier nabootsen.<br /> Voeg daarom <code class="language-plaintext highlighter-rouge">@csrf</code> toe in het formulier door dit net na het openen van het formulier te plaatsen.<br /> Laravel beveiligd hierdoor automatisch jouw formulier.</p> <hr /> <h3 id="5--ontvangen">5- Ontvangen</h3> <p>Dit formulier verstuur je nu naar de <code class="language-plaintext highlighter-rouge">store</code> route.<br /> In de functie die deze functie op opvangt zorg ik nu dat de verstuurde data zichtbaar is. Plaats daarvoor een dump() in deze store functie. Als je wilt kun je alle verstuurde data weergeven met de volgende code:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cd">/**
 * Store a newly created resource in storage.
 */</span>
<span class="k">public</span> <span class="k">function</span> <span class="n">store</span><span class="p">(</span><span class="kt">Request</span> <span class="nv">$request</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">dump</span><span class="p">(</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">all</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <hr /> <h3 id="6--link-naar-nieuwe-pagina">6- Link naar nieuwe pagina</h3> <p>Het is natuurlijk handig om ergens een knop te hebben om een nieuw project aan te maken. Dan is het wel zo netjes als je ervoor zorgt dat deze knop alleen toegankelijk is voor ingelogde gebruikers.<br /> Dat kun je als volgt doen:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
@auth
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ route('ROUTE-NAAR-CREATE') }}"</span> <span class="na">class=</span><span class="s">"bg-blue hover:bg-green text-white font-bold py-2 px-4 rounded"</span><span class="nt">&gt;</span>Nieuw Project<span class="nt">&lt;/a&gt;</span>
@endauth

</code></pre></div></div> <hr /> <h3 id="optionele-video">Optionele video:</h3> <h3 class="fs-4 text-blue-100" id="bekijk-de-video">Bekijk de video</h3> <div class="video"><div class="resp-container"><iframe class="resp-iframe" src="https://www.youtube.com/embed/iANa0-eoJEI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div> <p class="text-blue-100 fs-4">Zorg dat je vanaf je lijst pagina een knop hebt naar de ‘create’ route met het formulier om gegevens toe te voegen. Zorg ook dat je het gecontroleerd dat het form oin de <code class="language-plaintext highlighter-rouge">store()</code> method van je controller aankomt!`</p> <p class="text-blue-100 fs-4">In de volgende stap ga je validatie regels toevoegen zodat je foutmeldingen kunt tonen bij incorrecte invoer.</p> <h3 id="links">Links</h3> <ul> <li><a href="https://tailwindcss-forms.vercel.app/">Tailwind CSS form voorbeeld</a> (bekijk de source om te zien hoe je dit doet met Tailwind CSS)</li> </ul> <hr /> <h2 class="text-green-100 fs-5" id="commit-en-push">Commit en push</h2> <p>Commit en push ALTIJD na het maken van een opdracht of aan het einde van de les. Zo is je voortgang zichtbaar en ontvang je feedback en/of hulp op de laatste versie van je code als dat nodig is.</p> <footer> </footer> </div> </div> </div> </body> </html>
